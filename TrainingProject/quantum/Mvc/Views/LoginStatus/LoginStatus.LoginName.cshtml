@model Telerik.Sitefinity.Frontend.Identity.Mvc.Models.LoginStatus.LoginStatusViewModel

@using Telerik.Sitefinity.Frontend.Mvc.Helpers
@using Telerik.Sitefinity.Modules.Pages;

@Html.Script(ScriptRef.JQuery, "top")
<div class="dropdown">
    <button type="button" href="#" data-toggle="dropdown" class="dropdown-toggle search-button-icon" aria-expanded="false" id="langDropdownMenuLink" aria-haspopup="true">
        <i class="fas fa-user"> </i>
    </button>
    <div class="dropdown-menu mega-menu login-view-menu" aria-labelledby="langDropdownMenuLink">
        <div class="@Model.CssClass">
            <div class="media logged-in-view" data-sf-role="sf-logged-in-view" style="display: none">
                <div class="media-left">
                    <div class="media-object">
                        <img data-sf-role="sf-logged-in-avatar" width="80" height="80" />
                    </div>
                </div>
                <div class="">
                    <a href="@(Model.ProfilePageUrl ?? "#")" data-sf-role="sf-logged-in-name"></a>
                    <p data-sf-role="sf-logged-in-email"></p>
                    @Html.ActionLink(Html.Resource("Logout"), "SignOut", null, new { @class = "btn btn-default" })
                </div>
            </div>
            <div data-sf-role="sf-logged-out-view" style="display: none">
                <p><a href="@(Model.LoginPageUrl ?? "#")" class="sf-mr-m">@Html.Resource("Login")</a></p>
                <p><a href="@(Model.RegistrationPageUrl ?? "#")">@Html.Resource("RegisterNow")</a></p>
            </div>
        </div>
    </div>
</div>



<input type="hidden" data-sf-role="sf-status-json-endpoint-url" value="@Model.StatusServiceUrl" />
<input type="hidden" data-sf-role="sf-logout-redirect-url" value="@Model.LogoutPageUrl" />
<input type="hidden" data-sf-role="sf-is-design-mode-value" value="@ViewBag.IsDesignMode.ToString()" />
<input type="hidden" data-sf-role="sf-allow-windows-sts-login" value="@Model.AllowWindowsStsLogin.ToString()" />

@Html.Script(Url.WidgetContent("Mvc/Scripts/LoginStatus/login-status.js"), "bottom")